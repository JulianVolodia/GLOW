// GLOWExtras.js r1 - http://github.com/empaempa/GLOW
GLOW.Float=function(){function b(a){this.value=new Float32Array(1);this.value[0]=a!==void 0?a:0}b.prototype.set=function(a){this.value[0]=a;return this};b.prototype.add=function(a){this.value[0]+=a;return this};b.prototype.sub=function(a){this.value[0]-=a;return this};b.prototype.multiply=function(a){this.value[0]*=a;return this};b.prototype.divide=function(a){this.value[0]/=a;return this};b.prototype.modulo=function(a){this.value[0]%=a;return this};return b}();
GLOW.Int=function(){function b(a){this.value=new int32Array(1);this.value[0]=a!==void 0?a:0}b.prototype.set=function(a){this.value[0]=a;return this};b.prototype.add=function(a){this.value[0]+=a;return this};b.prototype.sub=function(a){this.value[0]-=a;return this};b.prototype.multiply=function(a){this.value[0]*=a;return this};b.prototype.divide=function(a){this.value[0]/=a;return this};b.prototype.modulo=function(a){this.value[0]%=a;return this};return b};
GLOW.Vector2=function(){function b(a,b){this.value=new Float32Array(2);this.value[0]=a!==void 0?a:0;this.value[1]=b!==void 0?b:0}b.prototype.set=function(a,b){this.value[0]=a;this.value[1]=b;return this};b.prototype.copy=function(a){this.value[0]=a.value[0];this.value[1]=a.value[1];return this};b.prototype.addSelf=function(a){this.value[0]+=a.value[0];this.value[1]+=a.value[1];return this};b.prototype.add=function(a,b){this.value[0]=a.value[0]+b.value[0];this.value[1]=a.value[1]+b.value[1];return this};
b.prototype.subSelf=function(a){this.value[0]-=a.x;this.value[1]-=a.y;return this};b.prototype.sub=function(a,b){this.value[0]=a.value[0]-b.value[0];this.value[1]=a.value[1]-b.value[1];return this};b.prototype.multiplySelf=function(a){this.value[0]*=a.value[0];this.value[1]*=a.value[1];return this};b.prototype.multiply=function(a,b){this.value[0]=a.value[0]*b.value[0];this.value[1]=a.value[1]*b.value[1];return this};b.prototype.multiplyScalar=function(a){this.value[0]*=a;this.value[1]*=a;return this};
b.prototype.negate=function(){this.value[0]=-this.value[0];this.value[1]=-this.value[1];return this};b.prototype.normalize=function(){this.multiplyScalar(1/this.length());return this};b.prototype.length=function(){return Math.sqrt(this.lengthSq())};b.prototype.lengthSq=function(){return this.value[0]*this.value[0]+this.value[1]*this.value[1]};b.prototype.clone=function(){return new GLOW.Vector2(this.value[0],this.value[1])};return b}();
GLOW.Vector3=function(){function b(a,b,d){this.value=new Float32Array(3);this.value[0]=a!==void 0?a:0;this.value[1]=b!==void 0?b:0;this.value[2]=d!==void 0?d:0}b.prototype.set=function(a,b,d){this.value[0]=a;this.value[1]=b;this.value[2]=d;return this};b.prototype.copy=function(){this.set(this.value[0],this.value[1],this.value[2]);return this};b.prototype.add=function(a,b){a=a.value;b=b.value;this.value[0]=a[0]+b[0];this.value[1]=a[1]+b[1];this.value[2]=a[2]+b[2];return this};b.prototype.addSelf=
function(a){a=a.value;this.value[0]+=a[0];this.value[1]+=a[1];this.value[2]+=a[2];return this};b.prototype.addScalar=function(a){this.value[0]+=a;this.value[1]+=a;this.value[2]+=a;return this};b.prototype.sub=function(a,b){a=a.value;b=b.value;this.value[0]=a[0]-b[0];this.value[1]=a[1]-b[1];this.value[2]=a[2]-b[2];return this};b.prototype.subSelf=function(a){a=a.value;this.value[0]-=a[0];this.value[1]-=a[1];this.value[2]-=a[2];return this};b.prototype.cross=function(a,b){a=a.value;b=b.value;this.value[0]=
a[1]*b[2]-a[2]*b[1];this.value[1]=a[2]*b[0]-a[0]*b[2];this.value[2]=a[0]*b[1]-a[1]*b[0];return this};b.prototype.crossSelf=function(a){var a=a.value,b=a[0],d=a[1],a=a[2],e=this.value[0],f=this.value[1],h=this.value[2];this.value[0]=d*h-a*f;this.value[1]=a*e-b*h;this.value[2]=b*f-d*e;return this};b.prototype.multiply=function(a,b){a=a.value;b=b.value;this.value[0]=a[0]*b[0];this.value[1]=a[1]*b[1];this.value[2]=a[2]*b[2];return this};b.prototype.multiplySelf=function(a){a=a.value;this.value[0]*=a[0];
this.value[1]*=a[1];this.value[2]*=a[2];return this};b.prototype.multiplyScalar=function(a){this.value[0]*=a;this.value[1]*=a;this.value[2]*=a;return this};b.prototype.divideSelf=function(a){a=a.value;this.value[0]/=a[0];this.value[1]/=a[1];this.value[2]/=a[2];return this};b.prototype.divideScalar=function(a){this.value[0]/=a;this.value[1]/=a;this.value[2]/=a;return this};b.prototype.negate=function(){this.value[0]=-this.value[0];this.value[1]=-this.value[1];this.value[2]=-this.value[2];return this};
b.prototype.dot=function(a){a=a.value;return this.value[0]*a[0]+this.value[1]*a[1]+this.value[2]*a[2]};b.prototype.distanceTo=function(a){return Math.sqrt(this.distanceToSquared(a))};b.prototype.distanceToSquared=function(a){var a=a.value,b=this.value[0]-a[0],d=this.value[1]-a[1],a=this.value[2]-a[2];return b*b+d*d+a*a};b.prototype.length=function(){return Math.sqrt(this.lengthSq())};b.prototype.lengthSq=function(){return this.value[0]*this.value[0]+this.value[1]*this.value[1]+this.value[2]*this.value[2]};
b.prototype.lengthManhattan=function(){return this.value[0]+this.value[1]+this.value[2]};b.prototype.normalize=function(){var a=Math.sqrt(this.value[0]*this.value[0]+this.value[1]*this.value[1]+this.value[2]*this.value[2]);a>0?this.multiplyScalar(1/a):this.set(0,0,0);return this};b.prototype.setPositionFromMatrix=function(a){a=a.value;this.value[0]=a[12];this.value[1]=a[13];this.value[2]=a[14]};b.prototype.setLength=function(a){return this.normalize().multiplyScalar(a)};b.prototype.isZero=function(){return Math.abs(this.value[0])<
1.0E-4&&Math.abs(this.value[1])<1.0E-4&&Math.abs(this.value[2])<1.0E-4};b.prototype.clone=function(){return GLOW.Vector3(this.value[0],this.value[1],this.value[2])};return b}();
GLOW.Vector4=function(){function b(a,b,d,e){this.value=new Float32Array(4);this.value[0]=a!==void 0?a:0;this.value[1]=b!==void 0?b:0;this.value[2]=d!==void 0?d:0;this.value[3]=e!==void 0?e:0}b.prototype.set=function(a,b,d,e){this.value[0]=a;this.value[1]=b;this.value[2]=d;this.value[3]=e;return this};b.prototype.copy=function(a){this.value[0]=a.value[0];this.value[1]=a.value[1];this.value[2]=a.value[2];this.value[3]=a.value[3];return this};b.prototype.add=function(a,b){this.value[0]=a.value[0]+b.value[0];
this.value[1]=a.value[1]+b.value[1];this.value[2]=a.value[2]+b.value[2];this.value[3]=a.value[3]+b.value[3];return this};b.prototype.addSelf=function(a){this.value[0]+=a.value[0];this.value[1]+=a.value[1];this.value[2]+=a.value[2];this.value[3]+=a.value[3];return this};b.prototype.sub=function(a,b){this.value[0]=a.value[0]-b.value[0];this.value[1]=a.value[1]-b.value[1];this.value[2]=a.value[2]-b.value[2];this.value[3]=a.value[3]-b.value[3];return this};b.prototype.subSelf=function(a){this.value[0]-=
a.value[0];this.value[1]-=a.value[1];this.value[2]-=a.value[2];this.value[3]-=a.value[3];return this};b.prototype.multiplyScalar=function(a){this.value[0]*=a;this.value[1]*=a;this.value[2]*=a;this.value[3]*=a;return this};b.prototype.divideScalar=function(a){this.value[0]/=a;this.value[1]/=a;this.value[2]/=a;this.value[3]/=a;return this};b.prototype.lerpSelf=function(a,b){this.value[0]+=(a.x-this.value[0])*b;this.value[1]+=(a.y-this.value[1])*b;this.value[2]+=(a.z-this.value[2])*b;this.value[3]+=
(a.w-this.value[3])*b;return this};b.prototype.clone=function(){return new GLOW.Vector4(this.value[0],this.value[1],this.value[2],this.value[3])};return b}();
GLOW.Matrix3=function(){function b(){this.value=new Float32Array(9);this.identity()}b.prototype.set=function(a,b,d,e,f,h,g,i,k){this.value[0]=a;this.value[4]=b;this.value[8]=d;this.value[1]=e;this.value[5]=f;this.value[9]=h;this.value[2]=g;this.value[6]=i;this.value[10]=k;return this};b.prototype.identity=function(){this.set(1,0,0,0,1,0,0,0,1);return this};return b}();
GLOW.Matrix4=function(){function b(){this.value=new Float32Array(16);this.rotation=new GLOW.Vector3;this.position=new GLOW.Vector3;this.columnX=new GLOW.Vector3;this.columnY=new GLOW.Vector3;this.columnZ=new GLOW.Vector3;this.identity()}b.prototype.set=function(a,b,d,e,f,h,g,i,k,l,j,n,o,r,p,q){this.value[0]=a;this.value[4]=b;this.value[8]=d;this.value[12]=e;this.value[1]=f;this.value[5]=h;this.value[9]=g;this.value[13]=i;this.value[2]=k;this.value[6]=l;this.value[10]=j;this.value[14]=n;this.value[3]=
o;this.value[7]=r;this.value[11]=p;this.value[15]=q;return this};b.prototype.identity=function(){this.set(1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1);return this};b.prototype.copy=function(a){a=a.value;this.set(a[0],a[4],a[8],a[12],a[1],a[5],a[9],a[13],a[2],a[6],a[10],a[14],a[3],a[7],a[11],a[15]);return this};b.prototype.lookAt=function(a,b){var d=GLOW.Matrix4.tempVector3A,e=GLOW.Matrix4.tempVector3B,f=GLOW.Matrix4.tempVector3C,h=this.getPosition();h.value[0]=this.value[12];h.value[1]=this.value[13];h.value[2]=
this.value[14];f.sub(h,a).normalize();f.length()===0&&(f.value[3]=1);d.cross(b,f).normalize();d.length()===0&&(f.value[0]+=1.0E-4,d.cross(b,f).normalize());e.cross(f,d).normalize();d=d.value;e=e.value;f=f.value;this.value[0]=d[0];this.value[4]=e[0];this.value[8]=f[0];this.value[1]=d[1];this.value[5]=e[1];this.value[9]=f[1];this.value[2]=d[2];this.value[6]=e[2];this.value[10]=f[2];return this};b.prototype.multiplyVector3=function(a){var b=a.value[0],d=a.value[1],e=a.value[2],f=1/(this.value[3]*b+this.value[7]*
d+this.value[11]*e+this.value[15]);a.value[0]=(this.value[0]*b+this.value[4]*d+this.value[8]*e+this.value[12])*f;a.value[1]=(this.value[1]*b+this.value[5]*d+this.value[9]*e+this.value[13])*f;a.value[2]=(this.value[2]*b+this.value[6]*d+this.value[10]*e+this.value[14])*f;return a};b.prototype.multiplyVector4=function(a){var b=a.value[0],d=a.value[1],e=a.value[2],f=a.value[3];a.value[0]=this.value[0]*b+this.value[4]*d+this.value[8]*e+this.value[12]*f;a.value[1]=this.value[1]*b+this.value[5]*d+this.value[9]*
e+this.value[13]*f;a.value[2]=this.value[2]*b+this.value[6]*d+this.value[10]*e+this.value[14]*f;a.value[3]=this.value[3]*b+this.value[7]*d+this.value[11]*e+this.value[15]*f;return a};b.prototype.rotateAxis=function(a){var b=a.value[0],d=a.value[1],e=a.value[2];a.value[0]=b*this.value[0]+d*this.value[4]+e*this.value[8];a.value[1]=b*this.value[1]+d*this.value[5]+e*this.value[9];a.value[2]=b*this.value[2]+d*this.value[6]+e*this.value[10];a.normalize();return a};b.prototype.crossVector=function(a){var b=
GLOW.Vector4(),d=a.value[0],e=a.value[1],f=a.value[2],a=a.value[3];b.value[0]=this.value[0]*d+this.value[4]*e+this.value[8]*f+this.value[12]*a;b.value[1]=this.value[1]*d+this.value[5]*e+this.value[9]*f+this.value[13]*a;b.value[2]=this.value[2]*d+this.value[6]*e+this.value[10]*f+this.value[14]*a;b.value[3]=a?this.value[3]*d+this.value[7]*e+this.value[11]*f+this.value[15]*a:1;return b};b.prototype.multiply=function(a,b){var a=a.value,b=b.value,d=a[0],e=a[4],f=a[8],h=a[12],g=a[1],i=a[5],k=a[9],l=a[13],
j=a[2],n=a[6],o=a[10],r=a[14],p=a[3],q=a[7],s=a[11],t=a[15],u=b[0],v=b[4],w=b[8],x=b[12],y=b[1],z=b[5],A=b[9],B=b[13],C=b[2],D=b[6],E=b[10],F=b[14];this.value[0]=d*u+e*y+f*C;this.value[4]=d*v+e*z+f*D;this.value[8]=d*w+e*A+f*E;this.value[12]=d*x+e*B+f*F+h;this.value[1]=g*u+i*y+k*C;this.value[5]=g*v+i*z+k*D;this.value[9]=g*w+i*A+k*E;this.value[13]=g*x+i*B+k*F+l;this.value[2]=j*u+n*y+o*C;this.value[6]=j*v+n*z+o*D;this.value[10]=j*w+n*A+o*E;this.value[14]=j*x+n*B+o*F+r;this.value[3]=p*u+q*y+s*C;this.value[7]=
p*v+q*z+s*D;this.value[11]=p*w+q*A+s*E;this.value[15]=p*x+q*B+s*F+t;return this};b.prototype.multiplySelf=function(a){this.multiply(m,a);return this};b.prototype.multiplyScalar=function(a){this.value[0]*=a;this.value[4]*=a;this.value[8]*=a;this.value[12]*=a;this.value[1]*=a;this.value[5]*=a;this.value[9]*=a;this.value[13]*=a;this.value[2]*=a;this.value[6]*=a;this.value[10]*=a;this.value[14]*=a;this.value[3]*=a;this.value[7]*=a;this.value[11]*=a;this.value[15]*=a;return this};b.prototype.determinant=
function(){var a=this.value[0],b=this.value[4],d=this.value[8],e=this.value[12],f=this.value[1],h=this.value[5],g=this.value[9],i=this.value[13],k=this.value[2],l=this.value[6],j=this.value[10],n=this.value[14],o=this.value[3],r=this.value[7],p=this.value[11],q=this.value[15];return e*g*l*o-d*i*l*o-e*h*j*o+b*i*j*o+d*h*n*o-b*g*n*o-e*g*k*r+d*i*k*r+e*f*j*r-a*i*j*r-d*f*n*r+a*g*n*r+e*h*k*p-b*i*k*p-e*f*l*p+a*i*l*p+b*f*n*p-a*h*n*p-d*h*k*q+b*g*k*q+d*f*l*q-a*g*l*q-b*f*j*q+a*h*j*q};b.prototype.transpose=function(){var a;
a=this.value[1];this.value[1]=this.value[4];this.value[4]=a;a=this.value[2];this.value[2]=this.value[8];this.value[8]=a;a=this.value[6];this.value[6]=this.value[9];this.value[9]=a;a=this.value[3];this.value[3]=this.value[12];this.value[12]=a;a=this.value[7];this.value[7]=this.value[13];this.value[13]=a;a=this.value[11];this.value[11]=this.value[14];this.value[11]=a;return this};b.prototype.clone=function(){var a=new GLOW.Matrix4;a.value=new Float32Array(m);return a};b.prototype.setPosition=function(a,
b,d){this.value[12]=a;this.value[13]=b;this.value[14]=d;return this};b.prototype.addPosition=function(a,b,d){this.value[12]+=a;this.value[13]+=b;this.value[14]+=d};b.prototype.setRotation=function(a,b,d){this.rotation.set(a,b,d);var e=Math.cos(a),a=Math.sin(a),f=Math.cos(b),b=Math.sin(b),h=Math.cos(d),d=Math.sin(d),g=e*b,i=a*b;this.value[0]=f*h;this.value[4]=-f*d;this.value[8]=b;this.value[1]=i*h+e*d;this.value[5]=-i*d+e*h;this.value[9]=-a*f;this.value[2]=-g*h+a*d;this.value[6]=g*d+a*h;this.value[10]=
e*f;return this};b.prototype.addRotation=function(a,b,d){this.rotation.value[0]+=a;this.rotation.value[1]+=b;this.rotation.value[2]+=d;this.setRotation(this.rotation.value[0],this.rotation.value[1],this.rotation.value[2])};b.prototype.getPosition=function(){this.position.set(this.value[12],this.value[13],this.value[14]);return this.position};b.prototype.getColumnX=function(){this.columnX.set(this.value[0],this.value[1],this.value[2]);return this.columnX};b.prototype.getColumnY=function(){this.columnY.set(this.value[4],
this.value[5],this.value[6]);return this.columnY};b.prototype.getColumnZ=function(){this.columnZ.set(this.value[8],this.value[9],this.value[10]);return this.columnZ};b.prototype.scale=function(a,b,d){var e;b!==void 0&&d!==void 0?e=a:(e=a.value[0],b=a.value[1],d=a.value[2]);this.value[0]*=e;this.value[4]*=b;this.value[8]*=d;this.value[1]*=e;this.value[5]*=b;this.value[9]*=d;this.value[2]*=e;this.value[6]*=b;this.value[10]*=d;this.value[3]*=e;this.value[7]*=b;this.value[11]*=d;return this};return b}();
GLOW.Matrix4.makeInverse=function(b,a){a===void 0&&(a=new GLOW.Matrix4);var c=b.value,d=a.value,e=c[0],f=c[4],h=c[8],g=c[12],i=c[1],k=c[5],l=c[9],j=c[13],n=c[2],o=c[6],r=c[10],p=c[14],q=c[3],s=c[7],t=c[11],c=c[15];d[0]=l*p*s-j*r*s+j*o*t-k*p*t-l*o*c+k*r*c;d[1]=j*r*q-l*p*q-j*n*t+i*p*t+l*n*c-i*r*c;d[2]=k*p*q-j*o*q+j*n*s-i*p*s-k*n*c+i*o*c;d[3]=l*o*q-k*r*q-l*n*s+i*r*s+k*n*t-i*o*t;d[4]=g*r*s-h*p*s-g*o*t+f*p*t+h*o*c-f*r*c;d[5]=h*p*q-g*r*q+g*n*t-e*p*t-h*n*c+e*r*c;d[6]=g*o*q-f*p*q-g*n*s+e*p*s+f*n*c-e*o*c;
d[7]=f*r*q-h*o*q+h*n*s-e*r*s-f*n*t+e*o*t;d[8]=h*j*s-g*l*s+g*k*t-f*j*t-h*k*c+f*l*c;d[9]=g*l*q-h*j*q-g*i*t+e*j*t+h*i*c-e*l*c;d[10]=h*j*q-g*k*q+g*i*s-e*j*s-f*i*c+e*k*c;d[11]=h*k*q-f*l*q-h*i*s+e*l*s+f*i*t-e*k*t;d[12]=g*l*o-h*j*o-g*k*r+f*j*r+h*k*p-f*l*p;d[13]=h*j*n-g*l*n+g*i*r-e*j*r-h*i*p+e*l*p;d[14]=g*k*n-f*j*n-g*i*o+e*j*o+f*i*p-e*k*p;d[15]=f*l*n-h*k*n+h*i*o-e*l*o-f*i*r+e*k*r;a.multiplyScalar(1/b.determinant());return a};
GLOW.Matrix4.makeFrustum=function(b,a,c,d,e,f){var h,g;h=new GLOW.Matrix4;g=h.value;g[0]=2*e/(a-b);g[4]=0;g[8]=(a+b)/(a-b);g[12]=0;g[1]=0;g[5]=2*e/(d-c);g[9]=(d+c)/(d-c);g[13]=0;g[2]=0;g[6]=0;g[10]=-(f+e)/(f-e);g[14]=-2*f*e/(f-e);g[3]=0;g[7]=0;g[11]=-1;g[15]=0;return h};GLOW.Matrix4.makeProjection=function(b,a,c,d){var e,b=c*Math.tan(b*Math.PI/360);e=-b;return GLOW.Matrix4.makeFrustum(e*a,b*a,e,b,c,d)};
GLOW.Matrix4.makeOrtho=function(b,a,c,d,e,f){var h,g,i,k,l;h=GLOW.Matrix4();i=a-b;k=c-d;l=f-e;g=h.value;g[0]=2/i;g[4]=0;g[8]=0;g[12]=-((a+b)/i);g[1]=0;g[5]=2/k;g[9]=0;g[13]=-((c+d)/k);g[2]=0;g[6]=0;g[10]=-2/l;g[14]=-((f+e)/l);g[3]=0;g[7]=0;g[11]=0;g[15]=1;return h};GLOW.Matrix4.tempVector3A=new GLOW.Vector3;GLOW.Matrix4.tempVector3B=new GLOW.Vector3;GLOW.Matrix4.tempVector3C=new GLOW.Vector3;GLOW.Matrix4.tempVector3D=new GLOW.Vector3;
GLOW.Geometry={randomVector3Array:function(b,a){var a=a!==void 0?a:1,c,d=[],e=a*2;for(c=0;c<b;c++)d.push(GLOW.Vector3(Math.random()*e-a,Math.random()*e-a,Math.random()*e-a));return d},elements:function(b){var a=0,c,d=new Uint16Array(b*3);for(c=0;c<b;c++)d[a]=a++,d[a]=a++,d[a]=a++;return d},faceNormals:function(b,a){var c=new Float32Array(b.length),d,e=a.length,f,h,g,i=new GLOW.Vector3,k=new GLOW.Vector3,l=new GLOW.Vector3,j=new GLOW.Vector3;for(d=0;d<e;)f=a[d++]*3,h=a[d++]*3,g=a[d++]*3,i.set(b[f+
0],b[f+1],b[f+2]),k.set(b[h+0],b[h+1],b[h+2]),l.set(b[g+0],b[g+1],b[g+2]),k.subSelf(i),l.subSelf(i),j.cross(l,k).normalize(),c[f+0]=j.value[0],c[f+1]=j.value[1],c[f+2]=j.value[2],c[h+0]=j.value[0],c[h+1]=j.value[1],c[h+2]=j.value[2],c[g+0]=j.value[0],c[g+1]=j.value[1],c[g+2]=j.value[2];return c}};
GLOW.Geometry.Cube={vertices:function(b){var a=new Float32Array(72),c=0,b=b!==void 0?b*0.5:5;a[c++]=-b;a[c++]=+b;a[c++]=+b;a[c++]=-b;a[c++]=-b;a[c++]=+b;a[c++]=+b;a[c++]=-b;a[c++]=+b;a[c++]=+b;a[c++]=+b;a[c++]=+b;a[c++]=-b;a[c++]=+b;a[c++]=-b;a[c++]=+b;a[c++]=+b;a[c++]=-b;a[c++]=+b;a[c++]=-b;a[c++]=-b;a[c++]=-b;a[c++]=-b;a[c++]=-b;a[c++]=-b;a[c++]=+b;a[c++]=-b;a[c++]=-b;a[c++]=-b;a[c++]=-b;a[c++]=-b;a[c++]=-b;a[c++]=+b;a[c++]=-b;a[c++]=+b;a[c++]=+b;a[c++]=+b;a[c++]=-b;a[c++]=-b;a[c++]=+b;a[c++]=+b;
a[c++]=-b;a[c++]=+b;a[c++]=+b;a[c++]=+b;a[c++]=+b;a[c++]=-b;a[c++]=+b;a[c++]=+b;a[c++]=+b;a[c++]=-b;a[c++]=-b;a[c++]=+b;a[c++]=-b;a[c++]=-b;a[c++]=+b;a[c++]=+b;a[c++]=+b;a[c++]=+b;a[c++]=+b;a[c++]=-b;a[c++]=-b;a[c++]=-b;a[c++]=+b;a[c++]=-b;a[c++]=-b;a[c++]=+b;a[c++]=-b;a[c++]=+b;a[c++]=-b;a[c++]=-b;a[c++]=+b;return a},elements:function(){var b=new Uint16Array(36),a=0;b[a++]=0;b[a++]=1;b[a++]=2;b[a++]=0;b[a++]=2;b[a++]=3;b[a++]=4;b[a++]=5;b[a++]=6;b[a++]=4;b[a++]=6;b[a++]=7;b[a++]=8;b[a++]=9;b[a++]=
10;b[a++]=8;b[a++]=10;b[a++]=11;b[a++]=12;b[a++]=13;b[a++]=14;b[a++]=12;b[a++]=14;b[a++]=15;b[a++]=16;b[a++]=17;b[a++]=18;b[a++]=16;b[a++]=18;b[a++]=19;b[a++]=20;b[a++]=21;b[a++]=22;b[a++]=20;b[a++]=22;b[a++]=23;return b},uvs:function(){var b=new Float32Array(48),a=0;b[a++]=0;b[a++]=1;b[a++]=1;b[a++]=1;b[a++]=1;b[a++]=0;b[a++]=0;b[a++]=0;b[a++]=0;b[a++]=1;b[a++]=1;b[a++]=1;b[a++]=1;b[a++]=0;b[a++]=0;b[a++]=0;b[a++]=0;b[a++]=1;b[a++]=1;b[a++]=1;b[a++]=1;b[a++]=0;b[a++]=0;b[a++]=0;b[a++]=0;b[a++]=1;
b[a++]=1;b[a++]=1;b[a++]=1;b[a++]=0;b[a++]=0;b[a++]=0;b[a++]=0;b[a++]=1;b[a++]=1;b[a++]=1;b[a++]=1;b[a++]=0;b[a++]=0;b[a++]=0;b[a++]=0;b[a++]=1;b[a++]=1;b[a++]=1;b[a++]=1;b[a++]=0;b[a++]=0;b[a++]=0;return b}};
GLOW.Geometry.Plane={vertices:function(b){var a=new Float32Array(12),c=0,b=b!==void 0?b*0.5:1;a[c++]=+b;a[c++]=-b;a[c++]=0;a[c++]=+b;a[c++]=+b;a[c++]=0;a[c++]=-b;a[c++]=+b;a[c++]=0;a[c++]=-b;a[c++]=-b;a[c++]=0;return a},elements:function(){var b=new Uint16Array(6),a=0;b[a++]=0;b[a++]=1;b[a++]=2;b[a++]=0;b[a++]=2;b[a++]=3;return b},uvs:function(){var b=new Float32Array(8),a=0;b[a++]=1;b[a++]=0;b[a++]=1;b[a++]=1;b[a++]=0;b[a++]=1;b[a++]=0;b[a++]=0;return b}};
GLOW.Node=function(b){this.localMatrix=new GLOW.Matrix4;this.globalMatrix=new GLOW.Matrix4;this.viewMatrix=new GLOW.Matrix4;this.useXYZStyleTransform=!1;this.position={x:0,y:0,z:0};this.rotation={x:0,y:0,z:0};this.scale={x:1,y:1,z:1};this.children=[];this.parent=void 0;if(b)this.shader=b,this.draw=b.draw};
GLOW.Node.prototype.update=function(b,a){this.useXYZStyleTransform&&(this.localMatrix.setPosition(this.position.x,this.position.y,this.position.z),this.localMatrix.setRotation(this.rotation.x,this.rotation.y,this.rotation.z),this.localMatrix.scale(this.scale.x,this.scale.y,this.scale.z));b?this.globalMatrix.multiply(b,this.localMatrix):this.globalMatrix.copy(this.localMatrix);a&&this.viewMatrix.multiply(a,this.globalMatrix);var c,d=this.children.length;for(c=0;c<d;c++)this.children[c].update(this.globalMatrix,
a);return this};GLOW.Node.prototype.addChild=function(b){if(this.children.indexOf(b)===-1)this.children.push(b),b.parent&&b.parent.removeChild(b),b.parent=this;return this};GLOW.Node.prototype.removeChild=function(b){var a=this.children.indexOf(b);if(a!==-1)this.children.splice(1,a),b.parent=void 0;return this};
GLOW.Camera=function(b){GLOW.Node.call(this);var b=b!==void 0?b:{},a=b.fov!==void 0?b.fov:40,c=b.aspect!==void 0?b.aspect:window.innerWidth/window.innerHeight,d=b.near!==void 0?b.near:0.1,e=b.far!==void 0?b.far:1E4;this.useTarget=b.useTarget!==void 0?b.useTarget:!0;this.projection=GLOW.Matrix4.makeProjection(a,c,d,e);this.inverse=new GLOW.Matrix4;this.target=new GLOW.Vector3(0,0,-100);this.up=new GLOW.Vector3(0,1,0);this.update()};GLOW.Camera.prototype=new GLOW.Node;
GLOW.Camera.prototype.constructor=GLOW.Camera;GLOW.Camera.prototype.supr=GLOW.Node.prototype;
GLOW.Camera.prototype.update=function(b,a){this.useXYZStyleTransform?(this.localMatrix.setPosition(this.position.x,this.position.y,this.position.z),this.useTarget?this.localMatrix.lookAt(this.target,this.up):this.localMatrix.setRotation(this.rotation.x,this.rotation.y,this.rotation.z),this.localMatrix.scale(this.scale.x,this.scale.y,this.scale.z)):this.useTarget&&this.localMatrix.lookAt(this.target,this.up);b?this.globalMatrix.multiply(b,this.localMatrix):this.globalMatrix.copy(this.localMatrix);
GLOW.Matrix4.makeInverse(this.globalMatrix,this.inverse);var c,d=this.children.length;for(c=0;c<d;c++)this.children[c].update(this.globalMatrix,a)};GLOW.defaultCamera=new GLOW.Camera;
